<div class="notacontable" *ngIf="form_nota == false">
    <h2>Nota contable N° 001</h2>
    <div class="notacontableconten">
        <span>Fecha de elaboración </span>
        <input type="date" required="required" class="input-date" [(ngModel)]="obj_notacontable.fecha">
        <span style="color: red;" *ngIf="validar_fecha === false">Seleccione la fecha</span>
    </div>
    <div class="notacontablecont">
        <div class="usuario">
            <span>Usuario: </span>
            <span class="user">{{nombres + " " + apellidos}}</span>
        </div>
        <div class="imput-secods">
            <button class="button-back-save"> Atrás</button>
            <button class="button-back-save" (click)="validar()"> Guardar</button>
        </div>
    </div>
    <div class="table fluid">
        <table class="mytable">
            <thead class="tablefact">
                <tr class="headtable">
                    <th class="tamaño2">
                        Código
                    </th>
                    <th class="tamaño3">
                        Cuenta contable
                    </th>
                    <th class="tamaño3">
                        Tercero
                    </th>
                    <th class="tamaño3">
                        Descripción
                    </th>
                    <th class="tamaño2">
                        Débito
                    </th>
                    <th class="tamaño2">
                        Crédito
                    </th>
                </tr>
            </thead>
            <tbody class="tablefacts"> <!--Primer fila-->
                <tr class="infotable">
                    <td class="tamaño2 td">
                        <input class="tamaño2" name="dato" type="text" required="required" (keydown.enter)="filtrarc(dato)" [(ngModel)]="dato">
                        <span style="color: red;" *ngIf="validar_codigo === false">Insertar codigo</span>
                    </td>
                    <td class="codigo tamaño3" style="color: black;" [(ngModel)]="obj_notacontable.fo_cuenta">
                        {{selectedCuenta}}
                        <span style="color: red;" *ngIf="validar_cuenta === false">Insertar cuenta</span>
                    </td>
                    <td  class="codigo tamaño3">
                        <input class="tamaño3" name="dato" type="text" required="required" (keydown.enter)="filtrarpro(pro)" [(ngModel)]="pro">
                        <span style="color: red;" *ngIf="validar_proveedor === false">Insertar proveedor</span>
                    </td>
                    <td class="tamaño3">
                        <input class="tamaño3" name="descripcion" type="text" [(ngModel)]="obj_notacontable.descripcion">
                    </td>
                    <td class="tamaño2">
                        <input style="text-align: end;" class="tamaño2" name="debito" type="number" [(ngModel)]="obj_notacontable.debito" (ngModelChange)="calcularTotales()">
                    </td>
                    <td class="tamaño2">
                        <input style="text-align: end;" class="tamaño2" name="credito" type="number" [(ngModel)]="obj_notacontable.credito" (ngModelChange)="calcularTotales()">
                    </td>
                </tr>
            </tbody>
            <tbody class="tablefacts"> <!--Segunda fila-->
                <tr class="infotable">
                    <td class="tamaño2 td">
                        <input class="tamaño2" type="text" name="dato3" required="required" (keydown.enter)="filtrarc2(dato2)" [(ngModel)]="dato2">
                        <span style="color: red;" *ngIf="validar_codigo2 === false">Insertar codigo</span>
                    </td>
                    <td class="codigo tamaño3" style="color: black;" [(ngModel)]="obj_notacontable.fo_cuenta2">
                        {{selectedCuenta2}}
                        <span style="color: red;" *ngIf="validar_cuenta2 === false">Insertar cuenta</span>
                    </td>
                    <td  class="codigo tamaño3"  style="color: black;">
                        <input class="tamaño3" name="dato" type="text" required="required" (keydown.enter)="filtrarpro2(pro2)" [(ngModel)]="pro2">
                        <span style="color: red;" *ngIf="validar_proveedor2 === false">Insertar proveedor</span>
                    </td>
                    <td class="tamaño3">
                        <input class="tamaño3" name="descripcion2" type="text" [(ngModel)]="obj_notacontable.descripcion2">
                    </td>
                    <td class="tamaño2">
                        <input style="text-align: end;" class="tamaño2" name="debito2" type="number" [(ngModel)]="obj_notacontable.debito2" (ngModelChange)="calcularTotales()">
                    </td>
                    <td class="tamaño2">
                        <input style="text-align: end;" class="tamaño2" name="credito2" type="number" [(ngModel)]="obj_notacontable.credito2" (ngModelChange)="calcularTotales()">
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="formulario" *ngIf="showFormulario === true"><!--Inicio despliegue de cuentas-->
        <table class="tabla__cuenta codigo" (click)="escoger(itemc)" *ngFor="let itemc of cuentas">
            <div class="escoger">
                <tbody>
                    <option>
                        <tr>
                            <th class="tamaño pointer">{{itemc.codigo}}</th>
                        </tr>
                    </option>
                </tbody>
            </div>
            <div class="escoger">
                <tbody>
                    <option>
                        <tr>
                            <th class="pointer">{{itemc.nombre}}</th>
                        </tr>
                    </option>
                </tbody>
            </div>
        </table>
    </div><!--Final despliegue de cuentas-->
    <div class="formulario3" *ngIf="showFormulario2 === true"><!--Inicio despliegue de cuentas-->
        <table class="tabla__cuenta codigo" (click)="escoger2(itemc2)" *ngFor="let itemc2 of cuentas2">
            <div class="escoger">
                <tbody>
                    <option>
                        <tr>
                            <th class="tamaño pointer">{{itemc2.codigo}}</th>
                        </tr>
                    </option>
                </tbody>
            </div>
            <div class="escoger">
                <tbody>
                    <option>
                        <tr>
                            <th class="pointer">{{itemc2.nombre}}</th>
                        </tr>
                    </option>
                </tbody>
            </div>
        </table>
    </div><!--Final despliegue de cuentas-->
    <div class="formulario2" *ngIf="showFormulariocli === true"><!--Inicio despliegue de proveedor-->
        <table class="tabla__cuenta codigo" (click)="escogerpro(itempro)" *ngFor="let itempro of proveedor">
            <div class="escoger">
                <tbody>
                    <option>
                        <tr>
                            <th class="tamaño pointer">{{itempro.razon_social}}{{itempro.nombre + " " + itempro.apellido}}</th>
                        </tr>
                    </option>
                </tbody>
            </div>
        </table>
    </div><!--Final despliegue de proveedor-->
    <div class="formulario4" *ngIf="showFormulariocli2 === true"><!--Inicio despliegue de proveedor-->
        <table class="tabla__cuenta codigo" (click)="escogerpro2(itempro2)" *ngFor="let itempro2 of proveedor">
            <div class="escoger">
                <tbody>
                    <option>
                        <tr>
                            <th class="tamaño pointer">{{itempro2.razon_social}}{{itempro2.nombre + " " + itempro2.apellido}}</th>
                        </tr>
                    </option>
                </tbody>
            </div>
        </table>
    </div><!--Final despliegue de proveedor-->
    <div class="foot">
        <div class="add" id="agregar_celda">
            <i onclick="agregarfila()" class="fa-solid fa-circle-plus pointer"></i>
        </div>
        <div class="secondinfor">
            <div class="total">
                <tr class="total2">
                    <th class="tamaño2">Total</th>
                    <th class="tamaño2" style="color: black;" [(ngModel)]="obj_notacontable.total_debito">{{totalDebito}}</th>
                    <th class="tamaño2" [(ngModel)]="obj_notacontable.total_credito">{{totalCredito}}</th>
                </tr>
            </div>
            <div class="total">
                <tr class="total2">
                    <th class="tamaño2">Diferencia</th>
                    <th class="tamaño2"> </th>
                    <th class="tamaño2">{{diferencia2}}</th>
                    <span style="color: red;" *ngIf="validar_diferencia === false">La diferencia debe ser 0</span>
                </tr>
            </div>
        </div>
    </div>
</div>

<div class="notacontable" id="formnota" *ngIf="form_nota == true">
    <h2>Nota contable N° 001</h2>
    <div class="notacontableconten">
        <span>Fecha de elaboración </span>
        <span class="user">{{obj_notacontable.fecha}}</span>
    </div>
    <div class="notacontablecont">
        <div class="usuario">
            <span>Usuario: </span>
            <span class="user">{{nombres + " " + apellidos}}</span>
        </div>
    </div>
    <div class="table fluid">
        <table class="mytable">
            <thead class="tablefact">
                <tr class="headtable">
                    <th class="tamaño2">
                        Código
                    </th>
                    <th class="tamaño3">
                        Cuenta contable
                    </th>
                    <th class="tamaño3">
                        Tercero
                    </th>
                    <th class="tamaño3">
                        Descripción
                    </th>
                    <th class="tamaño2">
                        Débito
                    </th>
                    <th class="tamaño2">
                        Crédito
                    </th>
                </tr>
            </thead>
            <tbody class="tablefacts"> <!--Primer fila-->
                <tr class="infotable">
                    <td class="tamaño2 td">
                        {{dato}}
                    </td>
                    <td class="codigo tamaño3" style="color: black;">
                        {{selectedCuenta}}
                    </td>
                    <td  class="codigo tamaño3">
                        {{selectedProveedor}}
                    </td>
                    <td class="tamaño3">
                        {{obj_notacontable.descripcion}}
                    </td>
                    <td class="tamaño2" style="text-align: end;">
                        {{obj_notacontable.debito | currency}}
                    </td>
                    <td class="tamaño2" style="text-align: end;">
                        {{obj_notacontable.credito | currency}}
                    </td>
                </tr>
            </tbody>
            <tbody class="tablefacts"> <!--Segunda fila-->
                <tr class="infotable">
                    <td class="tamaño2 td">
                        {{dato2}}
                    </td>
                    <td class="codigo tamaño3" style="color: black;" [(ngModel)]="obj_notacontable.fo_cuenta2">
                        {{selectedCuenta2}}
                    </td>
                    <td  class="codigo tamaño3"  style="color: black;">
                        {{selectedProveedor}}
                    </td>
                    <td class="tamaño3">
                        {{obj_notacontable.descripcion2}}
                    </td>
                    <td class="tamaño2" style="text-align: end;">
                        {{obj_notacontable.debito2 | currency}}
                    </td>
                    <td class="tamaño2" style="text-align: end;">
                        {{obj_notacontable.credito2 | currency}}
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="foot2">
        <div class="secondinfor">
            <div class="total">
                <tr class="total2">
                    <th class="tamaño">Total</th>
                    <th class="tamaño2" style="text-align: end;">{{totalDebito | currency}}</th>
                    <th class="tamaño2" style="text-align: end;" >{{totalCredito | currency}}</th>
                </tr>
            </div>
            <div class="total">
                <tr class="total2">
                    <th class="tamaño">Diferencia</th>
                    <th class="tamaño2"> </th>
                    <th class="tamaño2" style="text-align: end;">{{diferencia2 | currency}}</th>
                </tr>
            </div>
        </div>
    </div>
</div>

<div class="imput-secods botones" *ngIf="form_nota == true">
    <button class="button-back-save" (click)="imprimirRecibo()"> Imprimir</button>
    <button class="button-back-save" (click)="generarPDF()"> Descargar</button>
</div>